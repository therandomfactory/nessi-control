<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.3.6.1 (Linux)"/>
	<meta name="author" content="Dave Mills"/>
	<meta name="created" content="2002-01-13T16:34:34"/>
	<meta name="changed" content="2021-03-07T14:31:10.860921060"/>
	<meta name="Info 0" content=""/>
	<meta name="Info 1" content=""/>
	<meta name="Info 2" content=""/>
	<meta name="Info 3" content=""/>
	<style type="text/css">
		@page { size: 8.5in 10.96in; margin-left: 1.25in; margin-right: 1.25in; margin-top: 1in; margin-bottom: 1in }
		p { margin-bottom: 0.08in }
		h2.western { font-family: "Liberation Sans", sans-serif; font-size: 16pt }
		h2.cjk { font-size: 16pt }
		h2.ctl { font-size: 16pt }
		h3 { color: #808080 }
		h3.western { font-family: "Liberation Sans", sans-serif }
		td p { margin-bottom: 0in }
		th p { margin-bottom: 0in }
		a.western:visited { so-language: en-US }
		a.cjk:visited { so-language: zxx }
		a.ctl:visited { so-language: zxx }
	</style>
</head>
<body lang="en-US" dir="ltr">
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p align="center" style="margin-bottom: 0in"><font size="5" style="font-size: 20pt">Speckle
Instrument GUI - Linux User Guide</font></p>
<p align="center" style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">			Dave Mills (<a class="western" href="mailto:rfactory@theriver.com">rfactory@theriver.com</a>)
– February 2021</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-left: 0.5in; margin-bottom: 0in"><br/>

</p>
<div id="Table of Contents1" dir="ltr">
	<div id="Table of Contents1_Head" dir="ltr">
		<p style="margin-top: 0.17in; page-break-after: avoid"><font face="Liberation Sans, sans-serif"><font size="4" style="font-size: 16pt"><b>Table
		of Contents</b></font></font></p>
	</div>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__650_583816917">1.
	Introduction	2</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__652_583816917">2.
	Installation	2</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__654_583816917">3.
	Graphical user interface.	4</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__656_583816917">3.1
	The main window	4</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading__658_583816917">3.1.1
	Configurations menu	5</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading__660_583816917">3.1.2
	Temperature menu	5</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading__662_583816917">3.1.3
	Set ROI's menu	6</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading__664_583816917">3.1.4
	Tools menu	7</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading__808_583816917">Filter
	Transmission &amp; Efficiency Curves	9</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2728_1814182302">3.2
	Mimic Diagram	12</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__666_583816917">3.3
	Observations	13</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2616_3201593605">3.3.1
	Number of Image Sets to Acquire Per Target	14</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__668_583816917">4.
	Desktop layout	15</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2612_3201593605">4.1
	Recovery options	18</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2614_3201593605">4.2
	Controlled shutdown	19</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__670_583816917">5.
	Log files	19</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2610_3201593605">6.
	Updating the Software	20</a></p>
	<p style="margin-left: 0.39in; margin-bottom: 0in"><a class="western" href="#__RefHeading__674_583816917">6.1
	Recompiling the shared libraries (Non Ubuntu only)	20</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2620_3201593605">7.
	Changing hardware components	21</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading__678_583816917">8.
	Database	22</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2618_3201593605">9.
	Example FITS header	23</a></p>
	<p style="margin-left: 0.2in; margin-bottom: 0in"><a class="western" href="#__RefHeading___Toc2622_3201593605">10.
	Command Line usage (experts only)	26</a></p>
</div>
<p style="margin-left: 0.5in; margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading__650_583816917"></a>1.
Introduction</h2>
<p style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">The Speckle Instrument
GUI has been developed by Dave Mills (The Random Factory, Tucson, AZ)
in collaboration with the Speckle Instrument PI (Steve Howell) and
collaborators (Nic Scott, and Mark Everett - KPNO). It provides
comprehensive control over each hardware component, and the ability
to acquire single frame or Data cube (time series) Observations in
multiple sequences, filters, binning factors, and image geometries.
Observation metadata is logged in the image headers, and also in a
local database.</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading__652_583816917"></a>2.
Installation</h2>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">The GUI and
accompanying sources  can be obtained from the Github repository.</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in; font-weight: normal"><br/>

</p>
<p align="justify" style="margin-bottom: 0in; font-weight: normal"><i>	cd
$HOME</i></p>
<p align="justify" style="margin-bottom: 0in"><i><span style="font-weight: normal">	</span></i><i><span style="font-weight: normal">git
clone https://github.com/therandomfactory/speckle-control</span></i><i><span style="font-weight: normal">
  </span></i>
</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">These commands will
place the files in the directory <i>$HOME</i><i>/</i><i>speckle-control</i>.
Although it is possible to install the software to a different
location, this is not recommended as it will be necessary to manually
change the location in some of the scripts included with the drivers.</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">Run the software and
drivers installation script</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><i>	cd
$HOME/speckle-control</i></p>
<p align="justify" style="margin-bottom: 0in"><i><span style="font-weight: normal">	</span></i><i><span style="font-weight: normal">sudo
</span></i><i><span style="font-weight: normal">./</span></i><i><span style="font-weight: normal">install</span></i></p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">Configure the USB
devices for rw access</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">          <i><span style="font-weight: normal">cd
$H</span></i><i><span style="font-weight: normal">OME</span></i><i><span style="font-weight: normal">/</span></i><i><span style="font-weight: normal">speckle-control</span></i></p>
<p align="justify" style="margin-bottom: 0in; font-weight: normal">  
      <i>./setDevicePermissions</i></p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><b>For a completely new installation,
refer to section 7 of this guide.</b></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">Once this setup  has
been completed, the interface can be started with the command</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">	<i><span style="font-weight: normal">~/</span></i><i><span style="font-weight: normal">speckle-control/</span></i><i><span style="font-weight: normal">s</span></i><i><span style="font-weight: normal">tartspeckle</span></i><i><span style="font-weight: normal">2</span></i></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">These USB permissions can also be set
using the desktop icon, and the program can also be launched with an
icon double-click as well.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><img src="user-guide_html_2471dcabe9e70e36.png" name="Image22" align="left" width="128" height="242">
  <br clear="left"/>
</img>
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font size="3" style="font-size: 12pt">To
check for Speckle software updates , run the script, </font>
</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font size="3" style="font-size: 12pt">	<i>$HOME/speckle-control/checkUpdate</i></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font size="3" style="font-size: 12pt">if
an update is available you will be offered the option to install it
and the Andor camera</font></p>
<p style="margin-bottom: 0in"><font size="3" style="font-size: 12pt">drivers.
</font>
</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font size="3" style="font-size: 12pt">If
an Andor SDK update is available , run the script,</font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font size="3" style="font-size: 12pt">	<i>$HOME/speckle-control/andorUpdate</i></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><font size="3" style="font-size: 12pt">which
will download and install it, and rebuild any software as necessary.</font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading__654_583816917"></a>3.
Graphical user interface. 
</h2>
<p style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">The graphical user
interface provides easy access to the major functions such as image
acquisition, temperature control, and device setup and configuration.
</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">The program will open a
small main window, and then create a message window which shows the
progress of the system startup operations. 
</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">Once the message window
closes, the system is ready for use. The cameras are initialized, and
temperature control has been switched on.</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p align="justify" style="margin-bottom: 0in">Three terminal log
windows appear at the bottom of the screen, left and right are per
camera, and the central one is the general  observation log.</p>
<p align="justify" style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading__656_583816917"></a>3.1 The
main window 
</h2>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><img src="user-guide_html_628e2e0a90542f6e.png" name="Image1" align="left" width="576" height="355">
  <br clear="left"/>
</img>
<br/>

</p>
<p style="margin-bottom: 0in"><br/>
Most of the time the controls in
this window will be the focus of observing activities.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The following elements are provided : 
</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h3 class="western"></h3>
<h3 class="western"></h3>
<h3 class="western"><a name="__RefHeading__658_583816917"></a>3.1.1
Configurations menu</h3>
<p><img src="user-guide_html_fe96e9b4ade3fd26.png" name="Image2" align="left" width="106" height="183">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">This menu provides quick setup for a
range of commonly  used observing</p>
<p style="margin-bottom: 0in">or setup configurations. Each is a
simple script (the sources can be found in</p>
<p style="margin-bottom: 0in">$HOME/speckle-control/config-scripts,
and any new scripts which are added</p>
<p style="margin-bottom: 0in">to this directory will be available as
menu options after a GUI restart)</p>
<h3 class="western"></h3>
<h3 class="western"><a name="__RefHeading__660_583816917"></a>3.1.2
Temperature menu</h3>
<p><img src="user-guide_html_c888765be3d18d98.gif" name="Image3" align="left" width="140" height="61">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>This menu  provides control over the camera cooler usage. Cooling
may be</p>
<p>switched on or off, and the “ramp to ambient” option may also
be selected</p>
<p>(this is also  automatically  applied when the camera is
shutdown).  
</p>
<p>The actual temperature setpoints are individually controlled using
entry boxes in the main window.</p>
<h3 class="western"></h3>
<h3 class="western"><a name="__RefHeading__662_583816917"></a>3.1.3
Set ROI's menu</h3>
<h2 class="western"><img src="user-guide_html_f8dac4a092f4d64d.png" name="Image4" align="left" width="84" height="141">
  <br clear="left"/>
</img>
</h2>
<h2 class="western"></h2>
<p>This menu provides control over the data acquisition geometry. A
range of ROI (Region of Interest) sizes can be selected, or the
geometry can be reset to include the full frame. If an ROI is chosen,
then an image will be taken with each camera , and a default ROI of
the requested size will be automatically generated centered on the
brightest target</p>
<p>in the image(s). If it is necessary to manually adjust the
calculated ROI's, then select that option and then use the ds9
controls to move them, and then click OK on the dialog.</p>
<p>It is also possible to set default per camera  ROI centers in the 
</p>
<p>	<i>andorsConfiguration.&lt;telescope&gt; </i>
</p>
<p>configuration file. If the <i>Default ROI Centers </i><span style="font-style: normal">checkbox
is selected then the ROI’s will be positioned so their centers are
at the pixel coordinates specified in the configuration file.</span></p>
<h3 class="western"></h3>
<h3 class="western"></h3>
<h3 class="western"></h3>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<h3 class="western"></h3>
<h3 class="western"></h3>
<p><br/>
<br/>

</p>
<h3 class="western"><a name="__RefHeading__664_583816917"></a>3.1.4
Tools menu</h3>
<p><br/>
<br/>

</p>
<p>This menu provides access to a set of commonly used options. There
are four  main types of item , GUI window visibility/mode, Zaber
stage motions, pop-up windows, and resetting hardware components.</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_bc0e1e52baa04535.png" name="Image5" align="left" width="170" height="657">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>The “Engineering” option re-sizes the main window to make
visible an extra set of 
</p>
<p>controls generally used for equipment characterization and setup.</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_dcfd528ba21c2bea.png" name="Image16" align="left" width="576" height="313">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>The detailed readout parameters of each camera can be manipulated,
and the Zaber station positions edited and loaded/saved. For Gemini,
extra controls for the Focus and Pickoff stages, and the pico motors
are also included.</p>
<p><br/>
<br/>

</p>
<p>The “Observing” option returns the main window geometry to the
default , hiding the  Engineering controls.</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>The “Filter Selection” option opens the Filter Wheel control
window.</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_9a9d1ae05336c035.png" name="Image17" align="left" width="576" height="172">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p>This provides options to rename filters and load/save the
configurations. There is a placeholder for providing focus offset but
this is not yet implemented. There are also options to set different
exposure times for each filter; <b>this is an experimental feature
and will not play well with the display of </b><i><b>Observation
Status </b></i><i><b>progress bars.</b></i></p>
<p><br/>
<br/>

</p>
<h3 class="western"><a name="__RefHeading__808_583816917"></a>Filter
Transmission &amp; Efficiency Curves</h3>
<p>Speckle instruments use a dichroic beamsplitter to separate the
incoming light (at 686nm) into blue and red channels before focusing
on the two identical cameras, which operate simultaneously. The
speckle filter choice will be one of 467nm or 562nm paired with one
of 716nm or 832nm. NESSI's SDSS filters are also listed below
(although not used for speckle imaging). Data are in nanometers and
fractional efficiencies as quoted by the manufacturer. 
</p>
<center>
	<table width="11" cellpadding="2" cellspacing="0">
		<col width="7">
		<tr>
			<th width="7" style="border: none; padding: 0in"></th>
		</tr>
	</table>
</center>
<p><img src="user-guide_html_2067cac06cb15718.png" name="Image14" align="left" width="465" height="266">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>The two Gemini instruments are equipped with these filters.</p>
<p><img src="user-guide_html_67dcbc82675b85c9.png" name="Image13" align="left" width="576" height="327">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p>The “Camera Status” option opens a window showing the current
settings of the main 
</p>
<p><img src="user-guide_html_bacc4e4f70f13645.png" name="Image7" align="left" width="217" height="306">
  <br clear="left"/>
</img>
camera
configuration and readout parameters. The values are updated after
each 
</p>
<p><br/>
<br/>

</p>
<p>observation, or when the <i>Refresh</i> button is clicked.</p>
<p><br/>
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The “Plot timings” option opens  a
file selection dialog. Selecting a data cube image-name will plot the
time history of that cube's exposures (delta times with 0 = 1<sup>st</sup>
frame time).</p>
<p style="margin-bottom: 0in"><img src="user-guide_html_ba9f3c3bab59f9c0.gif" name="Image24" align="left" width="413" height="318">
  <br clear="left"/>
</img>
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The stored data in the FITS table is in
seconds (system clock time)</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The plotted data can also be examined
in the file /tmp/timings after a plot.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in"><img src="user-guide_html_be829217b319c9d7.gif" name="Image25" align="left" width="328" height="295">
  <br clear="left"/>
</img>
<br/>

</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">Options to open/close the Mimic
diagram, Camera status, and Filters windows.</p>
<ol>
	<p style="margin-bottom: 0in"></p>
	<p style="margin-bottom: 0in">A set of the options to command the
	motion of the relevant Zaber stages to the requested position(s).
	Feedback on the positions can be seen in the Mimic diagram, and in
	the debug log window. 
	</p>
	<p style="margin-bottom: 0in"></p>
</ol>
<p style="margin-bottom: 0in">Other options control whether separate
per filter exposure times are allowed (experimental), and control
over resetting various hardware components in case of problems.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The<i> Show/Hide Accumulate</i> options
control whether the corresponding control is visible.</p>
<p style="margin-bottom: 0in"> 
</p>
<p style="margin-bottom: 0in">Audio notifications (at end of
observation) may be switched on or off.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The <i>ds9red/ds9blue</i> options
restart the corresponding image viewers if they have crashed.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The <i>Watch Log</i> option opens a log
window which tracks the FITS headers of the observations.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">The <i>View Database</i> option opens a
terminal connected to the local observations database (accepts Mysql
queries)</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc2728_1814182302"></a>3.2
Mimic Diagram</h2>
<p>The Mimic diagram window shows the at-a-glance configuration of
the instrument.</p>
<p><img src="user-guide_html_dc73c0ac377ea936.png" name="Image6" align="left" width="457" height="356">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<h2 class="western"><a name="__RefHeading__666_583816917"></a>3.3
Observations</h2>
<p><br/>
<br/>

</p>
<p>The top left section of the main window contains a group of
controls related to the sequencing and initiation of observations. 
</p>
<p>The <i>E</i><i>xposure </i>time can be specified ( in seconds)
using the spinbox , or a value can  be typed into the entry box area.</p>
<p>The <i>Num</i><i>  </i><i>F</i><i>rames</i> to take can be
specified using the spinbox, or a value can be typed  into the entry
box area. If greater than 1, this specifies the number of exposures
in each  datacube. In this mode an array of (TAI) timing information
about the exposures is also included in the FITS file as a Binary
table Extension.</p>
<p>The <i>Exp Type </i>menu can be used to select common exposure
types. Dark, Flat, etc.</p>
<p>This has little effect except over the shutter control, but the
type is recorded in the image  headers.</p>
<p>The <i>Num Seq </i>spinbox can be used to repeat a set of
observations multiple times.</p>
<p>The<i> Accum</i> spinbox can be used to select the number of
exposures to be accumulated before each camera readout. The exposures
are thereby “co-added” by the camera (the visibility of this
option is selected using the Tools menu options). This is normally
used in conjunction with time series (datacube) operations.</p>
<p>The<i> File name </i>entry box is used to specify the base name 
for the FITS files. It will be expanded to add Sequence and Frame
number where appropriate as the files are stored.</p>
<p>The current frame number is shown to the right , and will
auto-increment as data is taken.</p>
<p>The<i> Observe</i> button start a sequence of observations (can
also be just a single frame).</p>
<p>The Video button starts a display only sequence , it must be
canceled using the <i>Abort </i>button before data acquisition
Observations can commence.</p>
<p>The <i>B</i><i>inning</i> spinbox controls the binning factor in
both x and y dimensions.</p>
<p>The <i>Display FFT </i> option chooses whether to display the raw
image data, or to display an FFT of the data instead.</p>
<p><br/>
<br/>

</p>
<p>The right side of the main window is focused on the meta data
which will  be included in the FITS headers. Some of this is
automatically populated with data from the Telescope telemetry
services. There are also menus for selecting a variety of Data
Quality (DQ) specifications, and a comments area (this area may be
flagged to auto-clear after each exposure if required). These are
added to the FITS headers.</p>
<p><br/>
<br/>

</p>
<p>The current state of each camera (enabled, temperature) is
prominently displayed top-center of the main window. Checkboxes can
be used to enable/disable each camera. 
</p>
<p>A set of buttons provides quick access to check and set the Zaber
stage positions.</p>
<p><br/>
<br/>

</p>
<p>The lower section of the window contains the major camera settings
controls.</p>
<p>From here, the temperature setpoint, Filter, Shutter state, Frame
Transfer mode, EM mode and gain can be changed. There are also
options to enable EM gain advisory popups, and to Auto set the gain. 
A checkbox controls the display of the images in ds9 which can be set
to autofit or not (zoom to displayed frame size)</p>
<p style="margin-bottom: 0in">The bottom of the window has two
progress bars, the upper shows the progress of a sequence of frames
in a datacube image, and the lower shows the number of sequences
completed.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc2616_3201593605"></a>3.3.1
Number of Image Sets to Acquire Per Target                           
                                       
</h3>
<p><br/>
<br/>

</p>
<p>The performance of speckle imaging is quite sensitive to
conditions like seeing, so there are no strict rules to follow for
determining the ideal number of image sets to acquire on a target of
given brightness. 
</p>
<p>Observers targeting stars fainter than V=13 should plan on
acquiring multiple image sets and those observing brighter stars may
also benefit from taking multiple sets. This will depend on how they
balance better contrast depth/image quality vs. number of targets
visited. Multiple image sets per star can also help under less than
optimal observing conditions and, given the several minutes needed to
set up observing of each new target, many users may want to devote
comparable time to exposures. 
</p>
<p>Each image set requires 1 minute of telescope time. Acquiring a
target with a short slew requires 3 minutes and with a long slew, 5
minutes. Since a science target requires a point source observation,
additional time is needed for that (about 4 minutes). Refer to the
guide on estimating observing time for more information. 
</p>
<p>Note that we have found the signal-to-noise ratio for detecting
secondary sources in speckle images does not grow as rapidly with
exposure time as it would in traditional CCD imaging (ie. with the
square root of time). Proposers may not expect to achieve the same
contrast limits on faint stars as bright ones (5 magnitudes may be
achievable on 12th magnitude stars and 3 magnitudes on 14th magnitude
stars.) The table below only suggests numbers of image sets to take
for various magnitude stars:  
</p>
<p><br/>
<br/>

</p>
<dl>
	<dl>
		<dl>
			<dl>
				<dl>
					<dl>
						<dd>
						<table width="145" cellpadding="2" cellspacing="0">
							<col width="50">
							<col width="86">
							<tr>
								<th width="50" style="border: none; padding: 0in">
									<p>V or R</p>
								</th>
								<th width="86" style="border: none; padding: 0in">
									<p># image sets</p>
								</th>
							</tr>
							<tr>
								<td width="50" style="border: none; padding: 0in">
									<p align="center">&lt;12</p>
								</td>
								<td width="86" style="border: none; padding: 0in">
									<p align="center">1-3</p>
								</td>
							</tr>
							<tr>
								<td width="50" style="border: none; padding: 0in">
									<p>12-12.5</p>
								</td>
								<td width="86" style="border: none; padding: 0in">
									<p align="center">3</p>
								</td>
							</tr>
							<tr>
								<td width="50" style="border: none; padding: 0in">
									<p>12.5-13</p>
								</td>
								<td width="86" style="border: none; padding: 0in">
									<p align="center">5</p>
								</td>
							</tr>
							<tr>
								<td width="50" style="border: none; padding: 0in">
									<p>13-13.5</p>
								</td>
								<td width="86" style="border: none; padding: 0in">
									<p align="center">7</p>
								</td>
							</tr>
							<tr>
								<td width="50" style="border: none; padding: 0in">
									<p align="center">&gt;13.5</p>
								</td>
								<td width="86" style="border: none; padding: 0in">
									<p align="center">9</p>
								</td>
							</tr>
						</table>
					</dl>
				</dl>
			</dl>
		</dl>
	</dl>
</dl>
<p><br/>
<font size="2" style="font-size: 10pt"><i>(</i></font><font size="2" style="font-size: 10pt"><i><b>Mark
Everett (everett@noao.edu)</b></i></font><font size="2" style="font-size: 10pt"><i>.</i></font></p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"><a name="__RefHeading__668_583816917"></a>4.
Desktop layout</h2>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">A recommend desktop layout is
illustrated below. The main visible components are</p>
<p style="margin-bottom: 0in"><br/>

</p>
<p style="margin-bottom: 0in">ds9red image viewer for the Red arm
camera images.</p>
<p style="margin-bottom: 0in">ds9blue image viewer for the Blue arm
camera images.</p>
<p style="margin-bottom: 0in">Top-center xterm showing the debug log.</p>
<p style="margin-bottom: 0in">Lower left xterm showing the Red camera
server operations</p>
<p style="margin-bottom: 0in">Lower right xterm showing the Blue
camera server operations.</p>
<p style="margin-bottom: 0in">Mid-screen main GUI window.</p>
<p style="margin-bottom: 0in"><br/>

</p>
<h2 class="western"></h2>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_610d7e040cafab9a.gif" name="Image8" align="left" width="576" height="356">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_2cf767f320bcd8d7.gif" name="Image10" align="left" width="576" height="356">
  <br clear="left"/>
</img>
The
following example also show typical popup windows for the Mimic
diagram and Filter Wheels and Camera status windows.</p>
<h2 class="western"><img src="user-guide_html_f011a1226f116756.gif" name="Image9" align="left" width="576" height="356">
  <br clear="left"/>
</img>
</h2>
<p><br/>
<br/>

</p>
<h2 class="western"></h2>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>This desktop shows an example of the appearance after an ROI
selection , each ds9 window shows the chosen region, and the numeric
parameters can be seen in the camera server log windows.</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_2f5e7ec09579eb6d.gif" name="Image12" align="left" width="576" height="356">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>The Engineering mode (Tools menu) adds a set of low level controls
to the bottom of the main GUI window</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_dcfd528ba21c2bea.png" name="Image11" align="left" width="576" height="313">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p>The detailed exposure modes for each camera can be set (Vertical
transfer speed, Readout clock speed for EM and Normal readout modes,
Horizontal transfer speed).</p>
<p>Low level control of the Zaber stages, and the ability to load and
save new defaults.</p>
<p>For Gemini installations, control of the Focus and Pickoff stages,
and a fine adjustment “jogger” for the Pico stage position.</p>
<p>In the lower left corner there is also a set of checkboxes to
choose a Simulation mode for hardware which is non-operational or
absent.</p>
<p>There is also a placeholder for a future feature to select GPS
hardware timestamps (currently each datacube image also contains a
FITS table containing the system clock times (double precision
seconds) of the start of Acquisition time of each frame. These may be
examined using the<i> Plot Timings </i>option on the Tools menu.</p>
<p><br/>
<br/>

</p>
<h3 class="western"><a name="__RefHeading___Toc2612_3201593605"></a>4.1
Recovery options</h3>
<p>If you experience problems with operation of the software or
particular hardware components, there are a set of options in the
<i>Tools </i>menu. These can be used to  Reconnect to the telemetry
server, cameras, filter wheels, or zaber stages.</p>
<p>There is also a cleanRestart icon and script which will shutdown
the software, power cycle the filter wheel, cameras and zaber stages,
and then restart the software.</p>
<h3 class="western"><a name="__RefHeading___Toc2614_3201593605"></a>4.2
Controlled shutdown</h3>
<h3 class="western"></h3>
<p>To shutdown the software, select <i>Shutdown </i><span style="font-style: normal">from
the </span><i>File</i><span style="font-style: normal"> menu. This
will command the cameras to ramp up to ambient temperature and then
close the camera control servers and GUI components. </span>
</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<h2 class="western"><a name="__RefHeading__670_583816917"></a>5. Log
files</h2>
<p>All GUI controlled operations are logged to disk. The files are
named according to the 
</p>
<p>cpu clock at the startup and stored in the /tmp directory.</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_2292bae13782cd3b.gif" name="Image15" align="left" width="576" height="437">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc2610_3201593605"></a>6.
Updating the Software</h2>
<p><br/>
<br/>

</p>
<p>A <i>checkUpdates</i> desktop icon and script are provided to
automatically check for Speckle software updates (on github) , and
optionally download and install them, recompiling sub packages as
needed.  These also perform and updates to the Andor drivers if
needed.</p>
<p>You can also separately update just the Andor software using the
<i>andorUpgrade</i> script.</p>
<h3 class="western"></h3>
<h3 class="western"><a name="__RefHeading__674_583816917"></a>6.1
Recompiling the shared libraries (Non Ubuntu only)</h3>
<p>The default <i>install </i>script assumes a Ubuntu Linux system.
If it is necessary to rebuild the compiled code on a different flavor
of Linux, the only component which might prove challenging is the
VIPS package.</p>
<p>Low level functionality is provided in C/C++ for speed , and this
code is</p>
<p>wrapped using tcl and loaded into the interpreter at runtime.</p>
<p>To move the code to a different version of Linux it may be
necessary to 
</p>
<p>recompile the libraries in the following directories. 
</p>
<p>	andor</p>
<p>           ccd</p>
<p>           filterWheel</p>
<p>           guider</p>
<p>          
</p>
<p>Each has either a Makefile (ccd, guider,vips) or a set of build
steps (andor/buildlib , oriel/buildlib)</p>
<p>The Vips library may present more difficulty due to it's many
dependencies.</p>
<p> The package can be normally be recompiled using the GNU standard
incantations</p>
<p><i>	./configure –prefix=/home/speckle/speckle-control 
--without-python</i></p>
<p><i>	make install</i></p>
<p>If the configure step does not work , try</p>
<p><i>	make AUTOCONF=: AUTOHEADER=: AUTOMAKE=: ACLOCAL=:</i></p>
<p><i>	make install AUTOCONF=: AUTOHEADER=: AUTOMAKE=: ACLOCAL=:</i></p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<h2 class="western"></h2>
<h2 class="western"><a name="__RefHeading___Toc2620_3201593605"></a>7.
Changing hardware components</h2>
<p><br/>
<br/>

</p>
<p>If it becomes necessary to change out either Filter Wheel or
Camera components, the appropriate configuration files will need
adjustment. The configuration files are in the</p>
<p>$HOME/speckle-control directory</p>
<p>	<i>andorsConfiguration.[telescope]</i></p>
<p>	<i>filtersConfiguration.[telescope]</i></p>
<p><br/>
<br/>

</p>
<p>In each case the serial number information will need to be
updated.</p>
<p>The Filter Wheel serial numbers can be found using the<i>  lsusb 
</i>command</p>
<p><br/>
<br/>

</p>
<p>The other configuration files are less likely to need changes.</p>
<p>	<i>picomotorConfiguration.[telescope]</i>  controls Pico stage
defaults</p>
<p>	<i>wcsPars.[camera].[mode].[telescope] </i> control image world
coord system</p>
<p>	<i>zabersConfiguration.[telescope]</i>  controls Zaber stage
defaults</p>
<p><img src="user-guide_html_a9e496d234cbf50.gif" name="Image18" align="left" width="576" height="280">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<h2 class="western"></h2>
<h2 class="western"></h2>
<h2 class="western"><a name="__RefHeading__678_583816917"></a>8.
Database</h2>
<p><br/>
<br/>

</p>
<p>The camera servers automatically log information about each image
to the a local</p>
<p>database (Mysql). The database is named “speckle” and the
table name is 
</p>
<p>“Speckle_Observations”. It can be viewed using the mysql
command line program.</p>
<p><br/>
<br/>

</p>
<p>e.g.</p>
<p>	<i>mysql –user=root speckle</i></p>
<p><i>	select * from Speckle_Observations LIMIT 10;</i></p>
<p>Or using a Mysql capable tool e.g. the TOPCAT gui 
</p>
<p><br/>
<br/>

</p>
<p><img src="user-guide_html_5f6566157f742e05.gif" name="Image19" align="left" width="576" height="253">
  <br clear="left"/>
</img>
<img src="user-guide_html_d40d818b79fdf32a.gif" name="Image20" align="left" width="576" height="211">
  <br clear="left"/>
</img>
<br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<h2 class="western"><a name="__RefHeading___Toc2618_3201593605"></a>9.
Example FITS header</h2>
<p style="margin-bottom: 0in">SIMPLE  =                    T / file
does conform to FITS standard          
</p>
<p>BITPIX  =                   16 / number of bits per data pixel    
             
</p>
<p>NAXIS   =                    3 / number of data axes              
             
</p>
<p>NAXIS1  =                  128 / length of data axis 1            
             
</p>
<p>NAXIS2  =                  128 / length of data axis 2            
             
</p>
<p>NAXIS3  =                 1000 / length of data axis 3            
             
</p>
<p>EXTEND  =                    T / FITS dataset may contain
extensions            
</p>
<p>COMMENT   FITS (Flexible Image Transport System) format is defined
in 'Astronomy</p>
<p>COMMENT   and Astrophysics', volume 376, page 359; bibcode:
2001A&amp;A...376..359H 
</p>
<p>BZERO   =                32768 / offset data range to that of
unsigned short    
</p>
<p>BSCALE  =                    1 / default scaling factor           
             
</p>
<p>CREATOR = 'Linux ANDOR CCD control V2' / Speckle Data-taking
program            
</p>
<p>MJD-OBS =         58998.864815 / MJD at start of obs              
             
</p>
<p>JD      =        2458999.36481 / Julian Date at start of obs      
             
</p>
<p>HDR_REV = '4.00 10-Feb-2020q'  / Header-Rev                       
             
</p>
<p>UTC     = '20:45:19.9'         / UTC time at end of observation   
             
</p>
<p>LAST    = '02:54:46.6'         / LSTHDR local sidereal time       
             
</p>
<p>EPOCH   =          2000.000000 / EPOCH of telescope coords        
             
</p>
<p>TARGRA  =            75.000000 / Telescope target RA              
             
</p>
<p>TARGDEC =            89.970000 / Telescope target DEC             
             
</p>
<p>RA      = '02:53:48.402'       / Telescope RA                     
             
</p>
<p>DEC     = '+19:39:24.95'       / Telescope DEC                    
             
</p>
<p>RAOFFST =        -1296000.0000 / Telescope RA offset              
             
</p>
<p>DECOFFST=            -0.000000 / Telescope DEC offset             
             
</p>
<p>ZD      =             0.000100 / zenith distance                  
             
</p>
<p>AIRMASS =             1.000000 / airmass at start of exposure     
             
</p>
<p>FOCUS   = '-0.091  '           / Telescope focus (microns)        
             
</p>
<p>OBJECT  = 'Zenith  '           / Object name                      
             
</p>
<p>PA      =             0.000000 / Instrument position angle        
             
</p>
<p>IAA     =           270.000000 / Instrument Alignment angle       
             
</p>
<p>CRPA    =          -180.000000 / Current Cass Rotator Position
Angle            
</p>
<p>GUIDING = 'Off     '           / Guide state                      
             
</p>
<p>OBSERVAT= 'Gemini-North'       / Originating Observatory          
             
</p>
<p>RELEASE = '2020-12-01'         / End of proprietary period
YYYY-MM-DD           
</p>
<p>INSTRUME= 'Alopeke '           / Instrument name                  
             
</p>
<p>DATE-OBS= '2020-05-29'         / Date of start of observation in
UTC            
</p>
<p>TIMEOBS = '20:43:46'           / from speckle.scope.timeobs       
             
</p>
<p>OBSTYPE = 'Object  '           / Type of picture (object, dark,
etc.)           
</p>
<p>TELESCOP= 'Gemini-North'       / Specific system                  
             
</p>
<p>RECID   = '2020-05-29_Gemini-North&quot;' / archive ID for
observation               
</p>
<p>ACT     =             0.008544 / Accumulation cycle time          
             
</p>
<p>EXPTIME =             0.007369 / Frame Exposure time in seconds   
             
</p>
<p>OBSTIME =      1590785111.7608 / UTC at start of observation      
             
</p>
<p>EXPENDTM=      1590785120.6196 / UTC at end of observation        
             
</p>
<p>HEAD    = 'Andor iXon Emccd'   / Head model                       
             
</p>
<p>ACQMODE = 'Kinetics mode'      / Acquisition mode                 
             
</p>
<p>KCT     =             0.008544 / Kinetic cycle time               
             
</p>
<p>KINMODE = '1       '           / Kinetic Mode                     
             
</p>
<p>NUMEXP  = '1       '           / from speckle.scope.numexp        
             
</p>
<p>READMODE= 'Image   '           / Readout mode                     
             
</p>
<p>IMGRECT = '1,1024,1,1024'      / Image format                     
             
</p>
<p>EMCCD   = 'On      '           / EMCCD mode                       
             
</p>
<p>FRAMEXFR= 'On      '           / Frame Transfer mode              
             
</p>
<p>BLCLAMP = 'On      '           / Bias Clamp                       
             
</p>
<p>HBIN    =                    1 / Horizontal binning               
             
</p>
<p>VBIN    =                    1 / Vertical binning                 
             
</p>
<p>SUBRECT = '152,279,1,128'      / Subimage format                  
             
</p>
<p>EXPOSURE=             7.369000 / Total Exposure Time              
             
</p>
<p>EMGAIN  =             0.000000 / EM Real Gain                     
             
</p>
<p>VSSPEED =             1.130000 / Vertical Speed (usec)            
             
</p>
<p>HSSPEED =             1.000000 / Horizontal Speed (MHz)           
             
</p>
<p>OUTPTAMP= 'Electron Multiplying' / Output Amplifier               
             
</p>
<p>PREAMP  =                    1 / Pre Amplifier Gain               
             
</p>
<p>SERNO   = 'X-10405 '           / Serial Number                    
             
</p>
<p>UNSTTEMP=           -60.000000 / Unstabilized Temperature         
             
</p>
<p>ACCUM   =                    1 / Accumulations per frame          
             
</p>
<p>NUMKIN  =                 1000 / Number of kinetic frames         
             
</p>
<p>FILTER  = 'Blue-562'           / Filter name                      
             
</p>
<p>FLDZABER= 'wide    '           / Field zaber position             
             
</p>
<p>INPZABER= 'wide    '           / Input zaber position             
             
</p>
<p>CCDTEMP =           -28.049999 / CCD temperature                  
             
</p>
<p>RAWIQ   = '0       '           / Image quality                    
             
</p>
<p>RAWCC   = '0       '           / Cloud cover                      
             
</p>
<p>RAWWV   = '0       '           / Water vapour                     
             
</p>
<p>RAWBG   = '0       '           / Background                       
             
</p>
<p>HUMIDITY= '16.4    '           / from tcs.weather.humidity        
             
</p>
<p>OBSID   = 'GN-2020A-FT-204'    / Observation-ID                   
             
</p>
<p>GEMPRGID= 'GN-2020A-FT-204'    / Observation-ID                   
             
</p>
<p>SPKLESEQ=                    2 / SPECKLENFO-sequence              
             
</p>
<p>SPKLEDAT= 'May 29 10:45:21'    / SPECKLENFO-timestamp             
             
</p>
<p>CRVAL1  =            19.656667 / Declination of reference pixel
[deg]           
</p>
<p>CRVAL2  =            43.450000 / RA of reference pixel [deg]      
             
</p>
<p>CTYPE1  = 'DEC--TAN'           / Coordinate type                  
             
</p>
<p>CTYPE2  = 'RA--TAN '           / Coordinate type                  
             
</p>
<p>CRPIX1  =                   64 / Coordinate reference pixel in X  
             
</p>
<p>CRPIX2  =                   64 / Coordinate reference pixel in Y  
             
</p>
<p>CDELT1  =       0.000000000000 / Rotation angle                   
             
</p>
<p>CDELT2  =      -0.000020138889 / Coordinate pixel scale in Y      
             
</p>
<p>CD1_1   =       0.000020138889                                    
             
</p>
<p>CD1_2   =       0.000000000000                                    
             
</p>
<p>CD2_1   =       0.000000000000                                    
             
</p>
<p>CD2_2   =      -0.000020138889                                    
             
</p>
<p>WCSNAME = 'FK5     '           / World coordinate system type     
             
</p>
<p>RADECSYS= 'FK5     '           / Default coordinate system type   
             
</p>
<p>END                                                               
             
</p>
<h2 class="western"></h2>
<h2 class="western"><a name="__RefHeading___Toc2622_3201593605"></a>10.
Command Line usage (experts only)</h2>
<p>There is a rich set of commands to allow interactive and scripted
usage. 
</p>
<p>To access the command line it is necessary to source the
<i>s</i><i>etup&lt;telescope&gt;</i></p>
<p>script from the speckle-control directory and then start the GUI
manually e.g.</p>
<p><br/>
<br/>

</p>
<p>     <i>source setupGeminiS</i></p>
<p>     <i>wish</i></p>
<p>     <i>source gui-scripts/gui2.tcl</i></p>
<p><br/>
<br/>

</p>
<p>The following commands are available 
</p>
<p>Filter Wheel : 
</p>
<p>	<i>loadFiltersConfig [filename]</i></p>
<p><i>	saveFiltersConfig [filename]</i></p>
<p><i>	echoFiltersConfig</i></p>
<p><i>	selectfilter  arm  filter-number</i></p>
<p><i>	findWheels</i></p>
<p><i>	resetFilterWheel  arm</i></p>
<p>	</p>
<p>Zaber stages : 	</p>
<p>	<i>loadZaberConfig [filename]</i></p>
<p><i>	saveZaberConfig [filename]</i></p>
<p><i>	echoZaberConfig</i></p>
<p><i>	zaberPrintProperties</i></p>
<p><i>	zaberConnect	</i></p>
<p><i>	zaberDisconnect</i></p>
<p><i>	homeZabers</i></p>
<p><i>	zaberCheck</i></p>
<p><i>	zaberSetPos name position</i></p>
<p><i>	zabersStopAll</i></p>
<p><i>	zaberGoto name station</i></p>
<p>	</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p><br/>
<br/>

</p>
<p>Pico Stages :   <b>Gemini only</b></p>
<p>	l<i><span style="font-weight: normal">oadPicosConfig [filename]</span></i></p>
<p style="font-weight: normal"><i>	savePicosConfig [filename]</i></p>
<p style="font-weight: normal"><i>	echoPicosConfig</i></p>
<p style="font-weight: normal"><i>	picosConnect</i></p>
<p style="font-weight: normal"><i>	picoCommand  axis cmd</i></p>
<p style="font-weight: normal"><i>	picoSet axis parameter value</i></p>
<p>	</p>
<p><br/>
<br/>

</p>
<p>Andor Cameras : 
</p>
<p>Commands may be issued from the GUI command line, scripted , or
optionally by</p>
<p>telnet to ports 2001, 2002 (also available when started in normal
GUI mode). 
</p>
<p>When using the command line the syntax is</p>
<p>	<i>commandAndor  arm  “command and parameters” </i><span style="font-style: normal">(where
arm is red or blue)</span></p>
<p>  or      <i>commandAndors  “command and parameters”</i></p>
<p><br/>
<br/>

</p>
<p>When using the telnet connection, just type the command and
parameters</p>
<p>	<i>accumulationcycletime seconds</i></p>
<p><i>	acquisition    index</i></p>
<p><i>	autofitds9     0/1</i></p>
<p><i>	baseclamp     0/1</i></p>
<p><i>	comments       comment1|comment2|....</i></p>
<p><i>	configure     hbin vbin vstart vend hstart hend preamp vsspeed
ccdhss emccdhss</i></p>
<p><i>	datadir      data-directory </i>
</p>
<p><i>	dqtelemetry    rawiq rawcc raqwv rawbg</i></p>
<p><i>	emadvanced      index</i></p>
<p><i>	emccdgain      0/1</i></p>
<p><i>	fastVideo  exposure xs ys dim</i></p>
<p><i>	fitsbits    data-format  </i>
</p>
<p><i>	forceroi    xs xe ys ye</i></p>
<p><i>	frametransfer  index</i></p>
<p>	<i>gettemp     </i>
</p>
<p><i>	grabcube  exposure xs ys dim</i></p>
<p><i>	grabframe   exposure </i>
</p>
<p><i>	grabroi    exposure xs ys dim</i></p>
<p><i>	hsspeed       amp index</i></p>
<p><i>	imagename    image-name </i>
</p>
<p><i>	kineticcycletime    seconds </i>
</p>
<p><i>	locatestar  smooth dim</i></p>
<p><i>	numberaccumulations   count</i></p>
<p><i>	numberkinetics       count</i></p>
<p><i>	outputamp      index</i></p>
<p><i>	positiontelem   input-zaber field-zaber filter</i></p>
<p><i>	preampgain     index</i></p>
<p><i>	programid      program-id</i></p>
<p><i>	readmode       index</i></p>
<p>	<i>reset   mode </i>
</p>
<p><i>	setexposure    seconds</i></p>
<p><i>	setframe    mode </i>
</p>
<p><i>	setroi    mode</i></p>
<p><i>	settemperature  degrees</i></p>
<p><i>	shutdown</i></p>
<p><i>	shutter       index</i></p>
<p><i>	status      </i>
</p>
<p><i>	version    </i>
</p>
<p><i>	vsamplitude    index</i></p>
<p><i>	vsspeed        index</i></p>
<p><i>	whicharm       </i>
</p>
<p><br/>
<br/>

</p>
<h2 class="western"></h2>
<h2 class="western"></h2>
<p><br/>
<br/>

</p>
</body>
</html>